# local-ci configuration for oxidizedRAG
# Defines the Rust-native LangGraph implementation test suite

[cache]
enabled = true

[tools]
# Required tools: cargo (implicit), rustfmt, clippy
cargo-fmt = { enabled = true, version = "nightly" }
cargo-clippy = { enabled = true, version = "stable" }

[stages]
# Define CI stages in execution order
# Same stages run locally (make ci) and in GitHub Actions

[[stage]]
name = "fmt"
command = ["cargo", "fmt", "--all", "--", "--check"]
description = "Format check (gofmt equivalent)"
timeout-secs = 300
enabled = true

[[stage]]
name = "clippy"
command = ["cargo", "clippy", "--workspace", "--all-targets", "--", "-D", "warnings"]
description = "Linting (golangci-lint equivalent)"
timeout-secs = 600
enabled = true

[[stage]]
name = "test"
command = ["cargo", "test", "--workspace"]
description = "Unit and integration tests"
timeout-secs = 1200
enabled = true

[logging]
level = "info"
format = "text"
